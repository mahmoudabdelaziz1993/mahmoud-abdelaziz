{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "dark-mode-switch",
  "description": "An animated dark mode toggle with multiple animation styles",
  "dependencies": [
    "next-themes",
    "motion"
  ],
  "registryDependencies": [
    "button"
  ],
  "files": [
    {
      "path": "registry/new-york/dark-mode-switch/index.tsx",
      "content": "// components/ui/dark-mode-switch/index.tsx\r\n\"use client\";\r\n\r\nimport { motion, AnimatePresence, Transition } from \"motion/react\";\r\nimport { useTheme } from \"next-themes\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\n// ... SVG Icons remain the same ...\r\n\r\n// Custom ButtonProps interface based on shadcn Button\r\ninterface CustomButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n    variant?: \"default\" | \"destructive\" | \"outline\" | \"secondary\" | \"ghost\" | \"link\";\r\n    size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\r\n    asChild?: boolean;\r\n}\r\n\r\nexport interface DarkModeProps extends Omit<CustomButtonProps, \"onClick\" | \"children\"> {\r\n    /**\r\n     * Animation type for the toggle\r\n     * @default \"spring\"\r\n     */\r\n    animationType?: \"spring\" | \"fade\" | \"flip\";\r\n\r\n    /**\r\n     * Custom sun icon component\r\n     */\r\n    SunIconComponent?: React.ComponentType<{ className?: string }>;\r\n\r\n    /**\r\n     * Custom moon icon component\r\n     */\r\n    MoonIconComponent?: React.ComponentType<{ className?: string }>;\r\n\r\n    /**\r\n     * Show loading state when theme is resolving\r\n     * @default true\r\n     */\r\n    showLoadingState?: boolean;\r\n\r\n    /**\r\n     * Custom loading component\r\n     */\r\n    LoadingComponent?: React.ComponentType;\r\n\r\n    /**\r\n     * Callback when theme changes\r\n     */\r\n    onThemeChange?: (theme: \"light\" | \"dark\") => void;\r\n}\r\n\r\n// SVG Icons (inlined for zero dependencies)\r\nconst MoonIcon = ({ className, ...props }: React.SVGProps<SVGSVGElement>) => (\r\n    <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"24\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        className={cn(\"lucide lucide-moon\", className)}\r\n        {...props}\r\n    >\r\n        <path d=\"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\" />\r\n    </svg>\r\n);\r\n\r\nconst SunIcon = ({ className, ...props }: React.SVGProps<SVGSVGElement>) => (\r\n    <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"24\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        className={cn(\"lucide lucide-sun\", className)}\r\n        {...props}\r\n    >\r\n        <circle cx=\"12\" cy=\"12\" r=\"4\" />\r\n        <path d=\"M12 2v2\" />\r\n        <path d=\"M12 20v2\" />\r\n        <path d=\"m4.93 4.93 1.41 1.41\" />\r\n        <path d=\"m17.66 17.66 1.41 1.41\" />\r\n        <path d=\"M2 12h2\" />\r\n        <path d=\"M20 12h2\" />\r\n        <path d=\"m6.34 17.66-1.41 1.41\" />\r\n        <path d=\"m19.07 4.93-1.41 1.41\" />\r\n    </svg>\r\n);\r\n\r\n// spring: default\r\n// fade: fade out the sun icon and fade in the moon icon\r\n// flip: flip the sun and moon icons\r\n// ...\r\nconst DarkModeSwitch = ({\r\n    animationType = \"spring\",\r\n    SunIconComponent = SunIcon,\r\n    MoonIconComponent = MoonIcon,\r\n    showLoadingState = true,\r\n    LoadingComponent,\r\n    onThemeChange,\r\n    className,\r\n    variant = \"outline\",\r\n    size = \"icon\",\r\n    ...buttonProps\r\n}: DarkModeProps) => {\r\n    const { setTheme, resolvedTheme } = useTheme();\r\n    const [mounted, setMounted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        requestAnimationFrame(() => {\r\n            setMounted(true);\r\n        });\r\n    }, []);\r\n\r\n    const toggleTheme = () => {\r\n        if (!mounted) return;\r\n\r\n        const newTheme = resolvedTheme === \"dark\" ? \"light\" : \"dark\";\r\n        setTheme(newTheme);\r\n        onThemeChange?.(newTheme);\r\n    };\r\n\r\n    if (!mounted && showLoadingState) {\r\n        if (LoadingComponent) {\r\n            return <LoadingComponent />;\r\n        }\r\n\r\n        return (\r\n            <Button\r\n                variant={variant}\r\n                size={size}\r\n                disabled\r\n                className={cn(\"relative overflow-hidden\", className)}\r\n                aria-label=\"Loading theme\"\r\n                {...buttonProps}\r\n            >\r\n                <div className=\"h-4 w-4 rounded-full bg-muted animate-pulse\" />\r\n            </Button>\r\n        );\r\n    }\r\n\r\n    const isDark = resolvedTheme === \"dark\";\r\n\r\n    // Animation configurations\r\n    const animations = {\r\n        spring: {\r\n            initial: {\r\n                y: isDark ? 10 : -10,\r\n                opacity: 0,\r\n                scale: 0.8\r\n            },\r\n            animate: {\r\n                y: 0,\r\n                opacity: 1,\r\n                scale: 1,\r\n                transition: {\r\n                    type: \"spring\",\r\n                    stiffness: 500,\r\n                    damping: 15\r\n                } as Transition\r\n            },\r\n            exit: {\r\n                y: isDark ? -10 : 10,\r\n                opacity: 0,\r\n                scale: 0.8,\r\n                transition: {\r\n                    duration: 0.15\r\n                } as Transition\r\n            },\r\n            whileHover: {\r\n                rotate: isDark ? -15 : 15\r\n            }\r\n        },\r\n        fade: {\r\n            initial: {\r\n                opacity: 0\r\n            },\r\n            animate: {\r\n                opacity: 1,\r\n                transition: {\r\n                    duration: 0.2\r\n                } as Transition\r\n            },\r\n            exit: {\r\n                opacity: 0,\r\n                transition: {\r\n                    duration: 0.15\r\n                } as Transition\r\n            },\r\n            whileHover: undefined // No hover effect for fade\r\n\r\n        },\r\n        flip: {\r\n            initial: {\r\n                rotateX: -90,\r\n                opacity: 0\r\n            },\r\n            animate: {\r\n                rotateX: 0,\r\n                opacity: 1,\r\n                transition: {\r\n                    type: \"spring\",\r\n                    stiffness: 400,\r\n                    damping: 20\r\n                } as Transition\r\n            },\r\n            exit: {\r\n                rotateX: 90,\r\n                opacity: 0,\r\n                transition: {\r\n                    duration: 0.2\r\n                } as Transition\r\n            },\r\n            whileHover: undefined // No hover effect for flip\r\n\r\n        }\r\n    };\r\n\r\n    const animation = animations[animationType];\r\n\r\n    return (\r\n        <Button\r\n            variant={variant}\r\n            size={size}\r\n            onClick={toggleTheme}\r\n            className={cn(\"relative overflow-hidden\", className)}\r\n            aria-label={`Switch to ${isDark ? \"light\" : \"dark\"} mode`}\r\n            aria-pressed={isDark}\r\n            {...buttonProps}\r\n        >\r\n            <div className=\"relative w-full h-full flex items-center justify-center\">\r\n                <AnimatePresence mode=\"wait\">\r\n                    {!isDark ? (\r\n                        <motion.div\r\n                            key=\"sun\"\r\n                            className=\"absolute flex items-center justify-center\"\r\n                            initial={animation.initial}\r\n                            animate={animation.animate}\r\n                            exit={animation.exit}\r\n                            whileHover={animation.whileHover}\r\n                        >\r\n                            <SunIconComponent className=\"h-[1.2rem] w-[1.2rem]\" />\r\n                        </motion.div>\r\n                    ) : (\r\n                        <motion.div\r\n                            key=\"moon\"\r\n                            className=\"absolute flex items-center justify-center\"\r\n                            initial={animation.initial}\r\n                            animate={animation.animate}\r\n                            exit={animation.exit}\r\n                            whileHover={animation.whileHover}\r\n                        >\r\n                            <MoonIconComponent className=\"h-[1.2rem] w-[1.2rem]\" />\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n        </Button>\r\n    );\r\n};\r\n\r\nexport default DarkModeSwitch;",
      "type": "registry:component"
    }
  ],
  "type": "registry:ui"
}